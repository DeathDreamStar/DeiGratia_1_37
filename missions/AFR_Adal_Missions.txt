#First slot
adal_conquest_missions_slot = {
	slot = 1
	generic = no
	ai = yes
	potential_on_load = {
		has_dlc = "Origins"
	}
	potential = {
		has_dlc = "Origins"
		NOT = { map_setup = map_setup_random }
		tag = ADA
	}
	has_country_shield = yes

	#Build to force limit
	ada_prepare_second_invasion = {
		icon = mission_son_military_expertise
		required_missions = {  }
		position = 1
		provinces_to_highlight = {
		}
		trigger = {
            is_at_war = no
            owns = 1214
            owns = 2791
            owns = 6078
            owns = 1210
            owns = 6077
            owns = 6102
		}
		effect = {
            add_stability_or_adm_power = yes
            add_prestige = 10
		}
	}

	#Destroy Ethiopia
	ada_destroy_ethiopia = {
		icon = mission_kon_repel_the_missionaries
		required_missions = {
			ada_prepare_second_invasion
			ada_turkish_alliance
		}
		position = 3
		provinces_to_highlight = {
			owner = {
				tag = ETH
			}
		}
		trigger = {
			ETH = {
				exists = no
			}
		}
		effect = {
			add_piety = 0.15
			add_power_projection = {
				type = mission_rewards_power_projection
				amount = 25
			}
			southern_ethiopia_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
            welayta_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
            sennar_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			upper_nubia_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
            beja_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			dongola_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			red_sea_coast_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	#Consolidate the Region
	ada_push_further_north = {
		icon = mission_unite_home_region
		required_missions = { ada_destroy_ethiopia }
		position = 4
		provinces_to_highlight = {
			OR = {
                area = sennar_area
				area = upper_nubia_area
                area = beja_area
				area = dongola_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			custom_trigger_tooltip = {
				tooltip = ada_push_further_north_ct
				sennar_area = {
					type = all
                    country_or_non_sovereign_subject_holds = ROOT
				}
				upper_nubia_area = {
					type = all
                    country_or_non_sovereign_subject_holds = ROOT
				}
                beja_area = {
					type = all
                    country_or_non_sovereign_subject_holds = ROOT
				}
				dongola_area = {
					type = all
                    country_or_non_sovereign_subject_holds = ROOT
				}
			}
		}
		effect = {
			add_country_modifier = {
				name = ada_expelling_of_the_christians
				duration = 7300
			}
            shilluk_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			kurdufan_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			darfur_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	#Go west
	ada_the_sahel_corridor = {
		icon = mission_sw_against_the_desert
		required_missions = { ada_push_further_north }
		position = 6
		provinces_to_highlight = {
			OR = {
                area = shilluk_area
				area = kurdufan_area
				area = darfur_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
            shilluk_area = {
				country_or_non_sovereign_subject_holds = ROOT
				type = all
			}
			kurdufan_area = {
				country_or_non_sovereign_subject_holds = ROOT
				type = all
			}
			darfur_area = {
				country_or_non_sovereign_subject_holds = ROOT
				type = all
			}
		}
		effect = {
            add_adm_power = 100
		}
	}
}

#Second slot
adal_alliances_missions_slot = {
	slot = 2
	generic = no
	ai = yes
	potential_on_load = {
		has_dlc = "Origins"
	}
	potential = {
		has_dlc = "Origins"
		NOT = { map_setup = map_setup_random }
		tag = ADA
	}
	has_country_shield = yes

	#Build mosque
	ada_restore_the_old_mosque = {
		icon = mission_mal_jihad_upon_own_population
		required_missions = {  }
		position = 1
		provinces_to_highlight = {
			province_id = 1212
			OR = {
				NOT = { owned_by = ROOT }
				has_tax_building_trigger = no
				NOT = { is_core = ROOT }
			}
		}
		trigger = {
			owns_core_province = 1212
			1212 = {
				has_tax_building_trigger = yes
			}
		}
		effect = {
			1212 = {
				add_building = cathedral
                add_province_modifier = {
                    name = encouraged_growth_tax
                    duration = 18250
                }
			}
		}
	}

	#Ally with the Turks
	ada_turkish_alliance = {
		icon = mission_non-western_soldiers
		required_missions = { ada_restore_the_old_mosque }
		position = 2
		provinces_to_highlight = {
			OR = {
				AND = {
					OR = {
						region = egypt_region
						region = mashriq_region
					}
					NOT = { province_id = 408 }
                    NOT = { province_id = 4268 }
					NOT = { area = gulf_of_arabia_area }
					has_port = yes
				}
				owner = {
					primary_culture = turkish
				}
			}
			has_discovered = ROOT
		}
		trigger = {
			custom_trigger_tooltip = {
				tooltip = ada_turkish_alliance_ct
				OR = {
					egypt_region = {
						NOT = { area = gulf_of_arabia_area }
						OR = {
							owner = { primary_culture = turkish }
							has_port = yes
						}
						has_discovered = ROOT
						OR = {
							infantry_in_province = ROOT
							cavalry_in_province = ROOT
							artillery_in_province = ROOT
						}
					}
					mashriq_region = {
						NOT = { province_id = 408 }
                        NOT = { province_id = 4268 }
						OR = {
							owner = { primary_culture = turkish }
							has_port = yes
						}
						has_discovered = ROOT
						OR = {
							infantry_in_province = ROOT
							cavalry_in_province = ROOT
							artillery_in_province = ROOT
						}
					}
					anatolia_region = {
						owner = { primary_culture = turkish }
						has_discovered = ROOT
						OR = {
							infantry_in_province = ROOT
							cavalry_in_province = ROOT
							artillery_in_province = ROOT
						}
					}
				}
			}
		}
		effect = {
			custom_tooltip = ada_turkish_alliance_tt
			hidden_effect = {
				random_province = {
					limit = {
						OR = {
							AND = {
								OR = {
									region = egypt_region
									region = mashriq_region
								}
								NOT = { province_id = 408 }
                                NOT = { province_id = 4268 }
								NOT = { area = red_sea_coast_area }
								has_port = yes
							}
							owner = {
								primary_culture = turkish
							}
						}
						has_discovered = ROOT
						OR = {
							infantry_in_province = ROOT
							cavalry_in_province = ROOT
							artillery_in_province = ROOT
						}
					}
					if = {
						limit = { infantry_in_province = ROOT }
						kill_units = {
							who = ROOT
							type = infantry
							amount = 1
						}
					}
					else_if = {
						limit = { cavalry_in_province = ROOT }
						kill_units = {
							who = ROOT
							type = cavalry
							amount = 1
						}
					}
					else = {
						kill_units = {
							who = ROOT
							type = artillery
							amount = 1
						}
					}
				}
				country_event = {
					id = flavor_ada.1
					days = 30
				}
			}
			hadiya_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			shewa_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			tigray_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			central_ethiopia_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			damot_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
            gonder_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
            ennarea_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
            medri_bahri_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			add_permanent_claim = 2768
		}
	}

	#Modernize the Army
	ada_modernize_army = {
		icon = mission_cannons_firing
		required_missions = { ada_turkish_alliance }
		position = 3
		provinces_to_highlight = {
		}
		trigger = {
			monthly_mil = 10
			has_completed_idea_group_of_category = {
				mil_ideas = yes
			}
		}
		effect = {
			add_army_professionalism = 0.05
			add_army_tradition = 20
			add_country_modifier = {
				name = ada_professional_army
				duration = 7300
			}
		}
	}

	#Ethiopian Gold
	ada_the_gold_of_ethiopia = {
		icon = mission_high_income
		required_missions = { ada_destroy_ethiopia }
		position = 4
		provinces_to_highlight = {
			OR = {
				province_id = 2762
                province_id = 2758
				province_id = 2757
			}
			OR = {
				NOT = { owned_by = ROOT }
				NOT = { is_state_core = ROOT }
			}
		}
		trigger = {
			2762 = {
				owned_by = ROOT
				is_state_core = ROOT
			}
            2758 = {
				owned_by = ROOT
				is_state_core = ROOT
			}
			2757 = {
				owned_by = ROOT
				is_state_core = ROOT
			}
		}
		effect = {
			2762 = {
                add_local_autonomy = -100
				add_province_modifier = {
					name = eth_increased_gold_mining
					duration = 9125
				}
			}
            2758 = {
                add_local_autonomy = -100
				add_province_modifier = {
					name = eth_increased_gold_mining
					duration = 9125
				}
			}
			2757 = {
                add_local_autonomy = -100
				add_province_modifier = {
					name = eth_increased_gold_mining
					duration = 9125
				}
			}
		}
	}

	#Religious Unity
	ada_convert_the_horn = {
		icon = mission_central_asian_city
		required_missions = { ada_push_further_north }
		position = 5
		provinces_to_highlight = {
			NOT = { religion = ROOT }
            NOT = { is_empty = yes }
			region = horn_of_africa_region
		}
		trigger = {
			religious_unity = 1
			horn_of_africa_region = {
				type = all
                OR = {
                    religion = ROOT
                    is_empty = yes
                }
			}
		}
		effect = {
			add_country_modifier = {
				name = ada_religious_unity_in_the_horn
				duration = 7300
			}
		}
	}
}

#First slot
adal_unification_missions_slot = {
	slot = 3
	generic = no
	ai = yes
	potential_on_load = {
		has_dlc = "Origins"
	}
	potential = {
		has_dlc = "Origins"
		NOT = { map_setup = map_setup_random }
		tag = ADA
	}
	has_country_shield = yes

	#Get cb against Somali clans
	ada_justification_for_unity = {
		icon = mission_kon_greatest_power_kongo
		required_missions = {  }
		position = 1
		provinces_to_highlight = {
			owner = {
				primary_culture = somali
				NOT = { tag = ROOT }
				NOT = { is_subject_of = ROOT }
			}
		}
		trigger = {
			OR = {
				custom_trigger_tooltip = {
					tooltip = ada_justification_for_unity_at
					NOT = {
						any_known_country = {
							primary_culture = somali
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = ada_justification_for_unity_bt
					any_known_country = {
						primary_culture = somali
						ROOT = {
							has_casus_belli = {
								type = cb_conquest
								target = PREV
							}
						}
					}
				}
			}
		}
		effect = {
            western_somaliland_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			somaliland_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			ogaden_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
            southern_ogaden_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			majarteen_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	#Conquer Warsangali and Marehan
	ada_conquer_war_mre = {
		icon = mission_zim_strong_rulership
		required_missions = { ada_justification_for_unity }
		position = 2
		provinces_to_highlight = {
			OR = {
                area = western_somaliland_area
				area = somaliland_area
				area = majarteen_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
            western_somaliland_area = {
				country_or_non_sovereign_subject_holds = ROOT
				type = all
			}
			somaliland_area = {
				country_or_non_sovereign_subject_holds = ROOT
				type = all
			}
			majarteen_area = {
				country_or_non_sovereign_subject_holds = ROOT
				type = all
			}
		}
		effect = {
			add_yearly_manpower = 1
            hobyo_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			ajuuran_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
            gedo_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			mogadishu_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	#Conquer Ogaadeen, Ajuuraan and Mogadishu
	ada_conquer_ogd_aju = {
		icon = mission_ottoman_harem
		required_missions = { ada_conquer_war_mre }
		position = 3
		provinces_to_highlight = {
			OR = {
                area = hobyo_area
				area = ajuuran_area
                area = gedo_area
				area = mogadishu_area
				area = ogaden_area
                area = southern_ogaden_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
            hobyo_area = {
				country_or_non_sovereign_subject_holds = ROOT
				type = all
			}
            ajuuran_area = {
				country_or_non_sovereign_subject_holds = ROOT
				type = all
			}
            gedo_area = {
				country_or_non_sovereign_subject_holds = ROOT
				type = all
			}
			mogadishu_area = {
				country_or_non_sovereign_subject_holds = ROOT
				type = all
			}
			ogaden_area = {
				country_or_non_sovereign_subject_holds = ROOT
				type = all
			}
			southern_ogaden_area = {
				country_or_non_sovereign_subject_holds = ROOT
				type = all
			}
		}
		effect = {
			yemen_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
            upper_yemen_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			tihama_al_yemen_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
            asir_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			mecca_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	#Conquer Mecca
	ada_expand_into_arabia = {
		icon = mission_arabian_fort
		required_missions = { ada_conquer_ogd_aju }
		position = 4
		provinces_to_highlight = {
            OR = {
                area = yemen_area
                area = upper_yemen_area
                area = tihama_al_yemen_area
                area = asir_area
                area = mecca_area
            }
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
            yemen_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            upper_yemen_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            tihama_al_yemen_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            asir_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            mecca_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
			add_accepted_culture = yemeni_culture
			add_accepted_culture = hejazi_culture
			hadramut_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
            mahra_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			medina_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	#Get cb against Somali clans
	ada_somali_empire = {
		icon = mission_empire
		required_missions = {
			ada_convert_the_horn
			ada_expand_into_arabia
		}
		position = 6
		provinces_to_highlight = {
			region = horn_of_africa_region
			NOT = { owned_by = ROOT }
		}
		trigger = {
			stability = 3
			prestige = 50
			legitimacy_equivalent = 90
			has_any_disaster = no
			NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
			is_at_war = no
			horn_of_africa_region = {
				owned_by = ROOT
				type = all
			}
		}
		effect = {
			if = {
				limit = { NOT = { government_rank = 3 } }
				set_government_rank = 3
			}
			add_country_modifier = {
				name = ada_imperial_adal_sultanate
				duration = 7300
			}
		}
	}
}