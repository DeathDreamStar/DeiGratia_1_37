namespace = ipeRUS
normal_or_historical_nations = yes

# The Colonization of the Steppe
country_event = {
	id = ipeRUS.1
	title = ipeRUS.1.t
	desc = ipeRUS.1.d
	picture = COLONIZATION_eventPicture

	trigger = {
		OR = {
			tag = MOS
			tag = RUS
		}
		any_owned_province = {
			OR = {
				culture = crimean
				culture = mishary
				culture = astrakhani
				culture = mordvin
				culture = siberian
				culture = komi
			}
			controlled_by = ROOT
			is_core = ROOT
		}
		is_at_war = no
	}

	mean_time_to_happen = {
		months = 120
	}

	option = {
		name = ipeRUS.1.a
		random_owned_province = {
			limit = {
				OR = {
					culture = crimean
					culture = mishary
					culture = astrakhani
					culture = mordvin
					culture = siberian
					culture = komi
				}
				controlled_by = ROOT
				is_core = ROOT
			}
			change_culture = russian
			change_religion = root
		}
	}
}

# The Slaves of the Steppes
country_event = {
	id = ipeRUS.3
	title = ipeRUS.3.t
	desc = ipeRUS.3.d
	picture = HORDE_ON_HORSEBACK_eventPicture

	trigger = {
		religion_group = christian
		NOT = {
			tag = GEN
		}
		OR = {
			AND = {
				owns = 284
				284 = {
					trade_goods = slaves
				}
			}
			AND = {
				owns = 286
				286 = {
					trade_goods = slaves
				}
			}
			AND = {
				owns = 303
				303 = {
					trade_goods = slaves
				}
			}
			AND = {
				owns = 464
				464 = {
					trade_goods = slaves
				}
			}
			AND = {
				owns = 465
				465 = {
					trade_goods = slaves
				}
			}
			AND = {
				owns = 1082
				1082 = {
					trade_goods = slaves
				}
			}
			AND = {
				owns = 6254
				6254 = {
					trade_goods = slaves
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	option = { # No Christian will be a slave.
		name = ipeRUS.3.a
		if = {
			limit = {
				owns = 284
			}
			284 = {
				change_trade_goods = grain
			}
		}
		if = {
			limit = {
				owns = 286
			}
			286 = {
				change_trade_goods = grain
			}
		}
		if = {
			limit = {
				owns = 303
			}
			303 = {
				change_trade_goods = livestock
			}
		}
		if = {
			limit = {
				owns = 464
			}
			464 = {
				change_trade_goods = wool
			}
		}
		if = {
			limit = {
				owns = 465
			}
			465 = {
				change_trade_goods = salt
			}
		}
		if = {
			limit = {
				owns = 1082
			}
			1082 = {
				change_trade_goods = grain
			}
		}
		if = {
			limit = {
				owns = 6254
			}
			6254 = {
				change_trade_goods = fish
			}
		}
		add_prestige = 10
	}
}

# The Fall of Constantinople
country_event = {
	id = ipeRUS.4
	title = ipeRUS.4.t
	desc = ipeRUS.4.d
	picture = CITY_VIEW_eventPicture

	fire_only_once = yes

	trigger = {
		OR = {
			tag = RUS
			tag = MOS
		}
		owns = 295
		NOT = {
			exists = BYZ
		}
		TUR = {
			owns = 151
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	option = { # They will follow the Third Rome!
		name = ipeRUS.4.a
		ai_chance = {
			factor = 100
		}
		add_historical_rival = TUR
		TUR = {
			add_historical_rival = ROOT
		}
		add_patriarch_authority = 0.10
		add_prestige = 25
		every_known_country = {
			limit = {
				religion = orthodox
			}
			add_opinion = {
				who = ROOT
				modifier = proclaimed_third_rome
			}
		}
		every_province = {
			limit = {
				OR = {
					is_core = BYZ
					province_id = 148 #Salonica (Mount Athos)
					province_id = 151 #Constantinople
				}
			}
			add_permanent_claim = ROOT
		}
		hidden_effect = {
			TUR = {
				country_event = {
					id = ipeRUS.5
				}
			}
		}
	}
}

# $FROMCOUNTRY$ Proclaims the Third Rome!
country_event = {
	id = ipeRUS.5
	title = ipeRUS.5.t
	desc = ipeRUS.5.d
	picture = ACCUSATION_eventPicture

	is_triggered_only = yes

	option = { # We laugh at their pretensions.
		name = ipeRUS.5.a
		tooltip = {
			add_historical_rival = FROM
			FROM = {
				add_historical_rival = TUR
			}
		}
	}
}

# The Conquest of Perm
country_event = {
	id = ipeRUS.8
	title = ipeRUS.8.t
	desc = ipeRUS.8.d
	picture = COLONIZATION_eventPicture

	is_triggered_only = yes

	option = { # The road east now lies open.
		name = ipeRUS.8.a
		if = {
			limit = {
				PRM = {
					is_subject_of = ROOT
					NOT = {
						num_of_cities = 10
					}
				}
			}
			inherit = PRM
		}
		if = {
			limit = {
				GPM = {
					is_subject_of = ROOT
					NOT = {
						num_of_cities = 10
					}
				}
			}
			inherit = GPM
		}
		add_prestige = 10
	}
}